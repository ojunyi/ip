<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Label?>
<?import javafx.geometry.Insets?>

<AnchorPane xmlns:fx="http://javafx.com/fxml/1"
            xmlns="http://javafx.com/javafx/17"
            fx:controller="buddiboi.ui.MainWindow"
            prefWidth="1280" prefHeight="720"
            style="-fx-background-color: #0A1628;">

    <VBox AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0"
          AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0"
          spacing="0">

        <!-- Header bar -->
        <HBox alignment="CENTER_LEFT" spacing="10"
              style="-fx-background-color: #0D2137;
                     -fx-border-color: #1A4A7A;
                     -fx-border-width: 0 0 2 0;
                     -fx-padding: 12 18 12 18;">
            <Label text="BUDDIBOI v0.1"
                   style="-fx-font-family: 'Courier New';
                          -fx-font-size: 16px;
                          -fx-font-weight: bold;
                          -fx-text-fill: #FFD700;
                          -fx-effect: dropshadow(one-pass-box, #FFD700, 6, 0.4, 0, 0);"/>
            <Label style="-fx-font-family: 'Courier New';
                          -fx-font-size: 11px;
                          -fx-text-fill: #5BC8F5;
                          -fx-padding: 3 0 0 4;"/>
        </HBox>

        <!-- Chat area -->
        <ScrollPane fx:id="scrollPane"
                    VBox.vgrow="ALWAYS"
                    fitToWidth="true"
                    hbarPolicy="NEVER"
                    style="-fx-background: transparent;
                           -fx-background-color: transparent;
                           -fx-border-color: transparent;">
            <VBox fx:id="dialogContainer"
                  spacing="8"
                  style="-fx-background-color: transparent;
                         -fx-padding: 14 14 14 14;">
            </VBox>
        </ScrollPane>

        <!-- Typing indicator -->
        <Label fx:id="typingIndicator"
               text=""
               style="-fx-font-family: 'Courier New';
                      -fx-font-size: 12px;
                      -fx-text-fill: #5BC8F5;
                      -fx-padding: 0 0 0 18;
                      -fx-opacity: 0.85;"
               visible="false"
               managed="false"/>

        <!-- Divider -->
        <HBox style="-fx-background-color: #1A4A7A; -fx-min-height: 2; -fx-max-height: 2;"/>

        <!-- Input area -->
        <HBox spacing="8" alignment="CENTER"
              style="-fx-background-color: #0D2137;
                     -fx-padding: 10 14 10 14;">
            <Label text="▶"
                   style="-fx-font-family: 'Courier New';
                          -fx-font-size: 14px;
                          -fx-text-fill: #AAFFAA;"/>
            <TextField fx:id="userInput"
                       HBox.hgrow="ALWAYS"
                       promptText="enter command..."
                       onAction="#handleUserInput"
                       style="-fx-font-family: 'Courier New';
                              -fx-font-size: 14px;
                              -fx-text-fill: #FFFFFF;
                              -fx-prompt-text-fill: #4A7A9B;
                              -fx-background-color: #0A1628;
                              -fx-border-color: #2A6496;
                              -fx-border-width: 1;
                              -fx-border-radius: 0;
                              -fx-background-radius: 0;
                              -fx-padding: 7 10 7 10;"/>
            <Button fx:id="sendButton"
                    text="SEND ►"
                    onAction="#handleUserInput"
                    style="-fx-font-family: 'Courier New';
                           -fx-font-size: 12px;
                           -fx-font-weight: bold;
                           -fx-text-fill: #0A1628;
                           -fx-background-color: #5BC8F5;
                           -fx-border-color: #AADDFF;
                           -fx-border-width: 1;
                           -fx-border-radius: 0;
                           -fx-background-radius: 0;
                           -fx-padding: 7 14 7 14;
                           -fx-cursor: hand;"/>
        </HBox>
    </VBox>
</AnchorPane>
